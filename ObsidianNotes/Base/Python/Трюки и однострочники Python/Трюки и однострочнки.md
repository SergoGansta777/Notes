[[2022-07-04]]
#Python 
# Трюки и однострочники Python
P.s из книги: -  **Однострочники Python: лаконичный и содержательный код**
Подробнее: [Fetching Title#ecls](https://habr.com/ru/company/piter/blog/593707/)
```toc
```
## Поиск самых высокооплачиваемых работников с помощью спискового вколючения
### Description
Необходимо отобрать сотрудников организации имеющих зарплату более 100к. Можно просто пройтись циклом с внутренним условием и подходящие результаты добавлять в выходной список, но есть куда ==более простой и лаконичный код==
```ad-note
title: Списковое включение или генераторы списков
В python существует замечательный способ создания новых списков. Описывается *формулой*:
==[выражение + контекст]==
Внешние **квадратные скобки** указывают, что результат представляет собой *новый список*. **Контекст** указывает, какие элементы списка необходимо взять. **Выражение** описывает способ модификации элементов списка перед добавлением результата в список
**Подробнее**: [Списковые включения (list comprehension)](https://www.codecamp.ru/blog/python-list-comprehensions/)
```
### Код
```py
employess = {'Alice' : 100000,
			'Bob' : 99817,
			...}
# Однотрочник
top_earners = [(k, v) for k, v in employess.items() if v => 100000]
```
### Принцип работы
**Выражение** создает простой кортеж (ключ, значение) для переменных контекста *k* и *v*.
**Контекст**: метод ==ассоциативного массива==<u> dict.items()</u>  обеспечивает проход переменной контекста *k* в цикле **==по всем ключам==** ассоциативного массива, а переменная контекста *v* - в цикле по соответствующим переменной контекста *k* значениям, но только если значение переменной контекста *v* равно или больше 100 000, в ==соответствии с условием== **if**.


## Поиск информативных слов с помощью спискового включения
### Description1
**Цель** - решить следующую задачу: создать на основе многострочного строкового значения ==список списков==, каждый из которых состоит из всех слов одной из строк, причем эти слова длиной три символа и более.
### Код1
```py
# однострочник
w_list = [[x for x in line.split() if len(x) > 3] for line in text.split('\n') ]
```

### Принцип работы1
Данный однострочник создает список списков с помощью двух *вложенных выражений* для **спискового включения**:
- Во *внутреннем выражении* для спискового включения `[x for x in line.split() if len(x) > 3]` используется строковая функция **split()** для ==разбиения заданной строки== на последовательность слов. Мы проходим по всем словам *x* и добавляем в список те из них, длина которых не менее трех символов;
- Во *внешнем выражении* для спискового включения создается строковое значение *line*, используемое в предыдущем операторе. Опять же, для разбиения текста по символам новой строки **'\n'** применяется функция **split()**.